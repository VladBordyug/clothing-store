<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Cart</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Fira Code', monospace;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #333;
      padding: 10px;
      text-align: center;
    }
    th {
      background: #f4f4f4;
    }
    .total {
      font-size: 18px;
      text-align: right;
      margin-top: 10px;
    }
    .clear-btn {
      background: #c0392b;
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
    }
    .clear-btn:hover {
      background: #e74c3c;
    }
  </style>
  <style>

.modal {
  width: fit-content;
  height: fit-content;
  background: #FFFFFF;
  box-shadow: 0px 187px 75px rgba(0, 0, 0, 0.01), 
              0px 105px 63px rgba(0, 0, 0, 0.05), 
              0px 47px 47px rgba(0, 0, 0, 0.09), 
              0px 12px 26px rgba(0, 0, 0, 0.1), 
              0px 0px 0px rgba(0, 0, 0, 0.1);
  border-radius: 26px;
  max-width: 450px;
}

.form {
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 20px;
}

.payment--options {
  width: calc(100% - 40px);
  display: grid;
  grid-template-columns: 33% 34% 33%;
  gap: 20px;
  padding: 10px;
}

.payment--options button {
  height: 55px;
  background: #F2F2F2;
  border-radius: 11px;
  padding: 0;
  border: 0;
  outline: none;
}

.separator {
  width: calc(100% - 20px);
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
  gap: 10px;
  color: #8B8E98;
  margin: 0 10px;
}

.separator > p {
  text-align: center;
  font-weight: 600;
  font-size: 11px;
  margin: auto;
}

.separator .line {
  height: 1px;
  background-color: #e8e8e8;
}

.credit-card-info--form {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.input_container {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.split {
  display: grid;
  grid-template-columns: 4fr 2fr;
  gap: 15px;
}

.input_label {
  font-size: 10px;
  color: #8B8E98;
  font-weight: 600;
}

.input_field {
  height: 40px;
  padding: 0 10px;
  border-radius: 9px;
  outline: none;
  background-color: #F2F2F2;
  border: 1px solid transparent;
}

.input_field:focus {
  box-shadow: 0px 0px 0px 2px #242424;
  background-color: #fff;
}

.purchase--btn {
  height: 55px;
  border-radius: 11px;
  border: 0;
  outline: none;
  color: #fff;
  font-size: 13px;
  font-weight: 700;
  background: linear-gradient(180deg, purple 0%, #000 100%);
  cursor: pointer;
}

/* Country list */
#country-list {
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 8px;
  margin-top: 5px;
  padding: 0;
}
#country-list li {
  list-style: none;
  padding: 8px 12px;
  cursor: pointer;
}
#country-list li:hover {
  background: #eee;
}
#country-search {
  color: #000; 
}

#country-list li {
  color: #000; 
  background: #fff; 
}
#country-list li:hover {
  background: #f0f0f0; 
}

</style>

</head>
<body>
  <header class="header">
   <a href="index.html">
    <div class="logo">CLOTHES SHOP</div>
    </a>
    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><a href="#" class="nav-link">CATALOGUE</a></li>
        <li class="nav-item"><a href="login.html" target="_blank" class="nav-link">SIGN UP</a></li>
        <li class="nav-item"><a href="login.html" target="_blank" class="nav-link">LOGIN</a></li>
        <li class="nav-item"><a href="cart.html" class="nav-link">CART</a></li>
      </ul>
    </nav>
  </header>

  <h1>üõí Your Cart</h1>

  <table id="cart-table">
    <thead>
      <tr>
  <th>Product</th>
  <th>Size</th>
  <th>Price</th>
  <th></th>
</tr>

    </thead>
    <tbody></tbody>
  </table>

  <div class="total">Total: $0</div>
  <div class="cart-buttons">
  <button class="cart-btn clear" id="clear-cart-btn">–û—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫</button>
  <button class="cart-btn checkout" id="checkout-btn">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –æ–ø–ª–∞—Ç–∏</button>
</div>

  <div id="checkout-modal" style="
    display:none; 
    position:fixed; 
    top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.6); 
    align-items:center; 
    justify-content:center;
    z-index: 1000;">
    
    <div class="modal">
      
      <form class="form" id="card-form">
        <div class="payment--options">
          <button type="button">PayPal</button>
          <button type="button">Apple Pay</button>
          <button type="button">Google Pay</button>
        </div>
        <div class="separator">
          <div class="line"></div>
          <p>or pay using credit card</p>
          <div class="line"></div>
        </div>
        <div class="credit-card-info--form">
          <div class="input_container">
            <label class="input_label">Card holder full name</label>
            <input class="input_field" type="text" placeholder="Enter your full name" required>
          </div>
          <div class="input_container">
            <label class="input_label">Card Number</label>
            <input class="input_field" type="number" placeholder="0000 0000 0000 0000" required>
          </div>
          <div class="input_container">
            <label class="input_label">Expiry Date / CVV</label>
            <div class="split">
              <input class="input_field" type="text" placeholder="01/23" required>
              <input class="input_field" type="number" placeholder="CVV" required>
            </div>
          </div>
        </div>
        <button type="submit" class="purchase--btn">Checkout</button>
      </form>

      
      <form class="form" id="delivery-form" style="display:none;">
        <h2>Delivery Information</h2>
        <div class="input_container">
          <label class="input_label">Country</label>
          <input type="text" id="country-search" class="input_field" placeholder="Search country...">
          <ul id="country-list"></ul>
        </div>
        <div class="input_container" id="post-service-container" style="display:none;">
          <label class="input_label">Delivery Service</label>
          <select id="post-service" class="input_field"></select>
        </div>
        <div class="input_container" id="city-container">
  <label class="input_label">City</label>
  <select id="city" class="input_field" required>
    <option value="">-- Select City --</option>
  </select>
</div>

        <div class="input_container">
          <label class="input_label">Street / Address</label>
          <input type="text" id="address" class="input_field" required>
        </div>
        <div class="input_container">
          <label class="input_label">Branch / Locker (optional)</label>
          <input type="text" id="branch" class="input_field">
        </div>
        <button id="confirm-order" type="button" class="purchase--btn">Confirm Order</button>
      </form>
    </div>
  </div>

  <script>
    function loadCart() {
  const cart = JSON.parse(localStorage.getItem('cart')) || [];
  const tbody = document.querySelector('#cart-table tbody');
  const totalDiv = document.querySelector('.total');
  tbody.innerHTML = '';
  let total = 0;

  cart.forEach((item, index) => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td>${item.name}</td>
      <td>${item.size}</td>
      <td>$${item.price}</td>
      <td><button class="remove-btn" data-index="${index}">‚ùå</button></td>
    `;
    tbody.appendChild(row);
    total += item.price;
  });

  totalDiv.textContent = `Total: $${total}`;

  // –î–æ–¥–∞—î–º–æ —Å–ª—É—Ö–∞—á—ñ –Ω–∞ –∫–Ω–æ–ø–∫–∏ –≤–∏–¥–∞–ª–µ–Ω–Ω—è
  document.querySelectorAll('.remove-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const idx = btn.dataset.index;
      cart.splice(idx, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      loadCart();
    });
  });
}

    loadCart();

    
    const checkoutBtn = document.getElementById("checkout-btn");
    const modal = document.getElementById("checkout-modal");
    const cardForm = document.getElementById("card-form");
    const deliveryForm = document.getElementById("delivery-form");

    checkoutBtn.addEventListener("click", () => modal.style.display = "flex");
    modal.addEventListener("click", (e) => { if (e.target === modal) modal.style.display = "none"; });


    cardForm.addEventListener("submit", e => {
      e.preventDefault();
      cardForm.style.display = "none";
      deliveryForm.style.display = "flex";
    });

   
    const countries = [
      { name: "Ukraine", flag: "üá∫üá¶" },
      { name: "United States", flag: "üá∫üá∏" },
      { name: "Poland", flag: "üáµüá±" },
      { name: "Germany", flag: "üá©üá™" },
      { name: "France", flag: "üá´üá∑" },
      { name: "Italy", flag: "üáÆüáπ" },
      { name: "Spain", flag: "üá™üá∏" },
      { name: "United Kingdom", flag: "üá¨üáß" }
    ];
    const countrySearch = document.getElementById("country-search");
    const countryList = document.getElementById("country-list");
    const postServiceContainer = document.getElementById("post-service-container");
    const postService = document.getElementById("post-service");

    function renderCountries(filter = "") {
      countryList.innerHTML = "";
      countries
        .filter(c => c.name.toLowerCase().includes(filter.toLowerCase()))
        .forEach(c => {
          const li = document.createElement("li");
          li.textContent = `${c.flag} ${c.name}`;
          li.addEventListener("click", () => selectCountry(c.name));
          countryList.appendChild(li);
        });
    }
    renderCountries();
    countrySearch.addEventListener("input", e => renderCountries(e.target.value));

    const cityContainer = document.getElementById("city-container");
const citySelect = document.getElementById("city");


const ukraineCities = [
  "–ö–∏—ó–≤", "–õ—å–≤—ñ–≤", "–•–∞—Ä–∫—ñ–≤", "–û–¥–µ—Å–∞", "–î–Ω—ñ–ø—Ä–æ", 
  "–ó–∞–ø–æ—Ä—ñ–∂–∂—è", "–í—ñ–Ω–Ω–∏—Ü—è", "–Ü–≤–∞–Ω–æ-–§—Ä–∞–Ω–∫—ñ–≤—Å—å–∫", "–ß–µ—Ä–Ω—ñ–≤—Ü—ñ", "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å"
];

function selectCountry(country) {
  countrySearch.value = country;
  countryList.innerHTML = "";
  postService.innerHTML = "";

  if (country === "Ukraine") {
    
    ["–ù–æ–≤–∞ –ü–æ—à—Ç–∞","–£–∫—Ä–ø–æ—à—Ç–∞"].forEach(p => {
      const opt = document.createElement("option");
      opt.value = p; opt.textContent = p;
      postService.appendChild(opt);
    });
    postServiceContainer.style.display = "block";

    
    citySelect.innerHTML = `<option value="">-- Select City --</option>`;
    ukraineCities.forEach(city => {
      const opt = document.createElement("option");
      opt.value = city; opt.textContent = city;
      citySelect.appendChild(opt);
    });

  } else if (country === "United States") {
    ["USPS","FedEx","UPS"].forEach(p => {
      const opt = document.createElement("option");
      opt.value = p; opt.textContent = p;
      postService.appendChild(opt);
    });
    postServiceContainer.style.display = "block";

    
    citySelect.innerHTML = "";
    citySelect.outerHTML = `<input type="text" id="city" class="input_field" required>`;
  } else {
    postServiceContainer.style.display = "none";

    
    citySelect.innerHTML = "";
    citySelect.outerHTML = `<input type="text" id="city" class="input_field" required>`;
  }
}
const clearCartBtn = document.getElementById("clear-cart-btn");
  clearCartBtn.addEventListener("click", () => {
    localStorage.removeItem("cart"); 
    loadCart(); 
  });
  </script>
</body>
</html>
