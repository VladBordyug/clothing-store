<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buy Product</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/avif" href="header_logo_x300_x300_d15f5425-c546-4e37-a4b4-3ebda5c346c5.avif">
  <style>
    .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(10, 25, 47, 0.9);
        align-items: center;
        justify-content: center;
        z-index: 999;
    }
    .modal {
        background: #0d1a2f;
        color: #e0e6f0;
        padding: 40px;
        border-radius: 16px;
        width: 400px;
        text-align: center;
        position: relative;
        box-shadow: 0 0 25px rgba(0, 115, 255, 0.5);
        font-family: 'Fira Code', monospace;
    }
    .modal h2 {
        margin-bottom: 25px;
        font-size: 24px;
        letter-spacing: 1px;
        color: #3f9efc;
    }
    .modal input {
        width: 100%;
        padding: 12px;
        margin: 12px 0;
        border: 2px solid #203554;
        border-radius: 8px;
        background: #091220;
        color: #e0e6f0;
        font-size: 14px;
    }
    .modal button {
        margin-top: 20px;
        width: 100%;
        padding: 14px;
        background: #3f9efc;
        border: none;
        border-radius: 10px;
        color: #ffffff;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
    }
    .modal button:hover {
        background: #0077e6;
    }
    .close-modal {
        position: absolute;
        top: 12px;
        right: 18px;
        font-size: 22px;
        cursor: pointer;
        color: #b0c4de;
    }
    .close-modal:hover {
        color: #ffffff;
    }
  </style>
  <script src="scriptt.js"></script>
  <style>
    /* ... (існуючий CSS для buy5.html) ... */
    body {
      font-family: 'Fira Code', monospace;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    main {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .product-container {
      text-align: center;
    }
    .product-details {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }
    .product-details img {
      max-width: 350px;
      border-radius: 10px;
      margin-top: 10px;
    }
    footer {
      margin: 20px 0;
      text-align: center;
    }
    select {
      padding: 8px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <header class="header">
    <a href="index.html">
      <div class="logo">EMINEM SHOP</div>
    </a>
    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item dropdown">
          <a href="#" class="nav-link catalogue-link">CATALOGUE</a>
          <ul class="dropdown-menu">
            <li><a href="index.html">T-shirts</a></li>
            <li><a href="hoodies.html">Hoodies</a></li>
            <li><a href="hats.html">Hats</a></li>
            <li><a href="jackets.html">Jackets</a></li>
          </ul>
        </li>
        <li class="nav-item"><a href="#" id="open-signup" class="nav-link">SIGN UP</a></li>
        <li class="nav-item"><a href="#" id="open-login" class="nav-link">LOGIN</a></li>
        <li class="nav-item"><a href="cart.html" class="nav-link cart-link">CART</a></li>
        <li class="nav-item dropdown language-switcher">
          <a href="#" class="nav-link">EN</a>
          <ul class="dropdown-menu"></ul>
        </li>
      </ul>
    </nav>
  </header>
  <main>
    <div class="product-container">
      <div class="product-details">
        <label for="product-select">Choose a product:</label>
        <select id="product-select">
          <option data-img="Basic_E-shirt_Male_Model (1).webp" value="40">Basic T-shirt - $40</option>
          <option data-img="Casket_Front.webp" value="35">Casket T-shirt - $35</option>
          <option data-img="EmENCORE0443P01.webp" value="38">Encore Shirt 1 - $38</option>
          <option data-img="EmENCORE0587P01.webp" value="42">Encore Shirt 2 - $42</option>
          <option data-img="Shady-25_033.webp" value="40">Shady 25 T-shirt - $40</option>
          <option data-img="Shady2.webp" value="39">Shady T-shirt - $39</option>
          <option data-img="Kamikaze_Green_Hoodie_Male_Model_Front_1024x1024_f9d4031-2f58-4a08-a853-eb1f057ea1b8.webp" value="55">Kamikaze Hoodie - $55</option>
          <option data-img="The_Way_I_Am_Hoodie_Maroon_Male_Model.webp" value="50">The Way I Am Hoodie 1 - $50</option>
          <option data-img="The_Way_I_Am_Hoodie_Navy_Male_Model.webp" value="38">The Way I Am Hoodie 2 - $38</option>
          <option data-img="Lyric_Hoode_-_Front_-_Back.webp" value="70">Lyric Hoodie - $70</option>
          <option data-img="PhotoHoodie_-_Front_-_Back.webp" value="60">Photo Hoodie - $60</option>
          <option data-img="LARGE-EM_0013_NW-LOGO--copy-10.webp" value="65">Large Hoodie - $65</option>
          <option data-img="Angermangement-Tee_mock.webp" value="45">Anger Management Tee - $45</option>
          <option data-img="Bloody_Chainsaw_Tee_White_-_Justin.webp" value="48">Bloody Chainsaw Tee White - $48</option>
          <option data-img="Bloody_Chainsaw_Tee_-_Justin.webp" value="47">Bloody Chainsaw Tee - $47</option>
          <option data-img="E-Kneel-Tee_mock.webp" value="44">E-Kneel Tee - $44</option>
          <option data-img="Eminem-Graphic-mock.webp" value="52">Eminem Graphic Tee - $52</option>
          <option data-img="EMTV-Design_mock.webp" value="43">EMTV Design Tee - $43</option>
          <option data-img="E-Spotlight_mock.webp" value="46">E-Spotlight Tee - $46</option>
          <option data-img="Photo_T-Shirt_-_Justin.webp" value="49">Photo T-shirt - $49</option>
          <option data-img="I_m_The_Real_Slim_Shady_T-shirt_Female_Model.webp" value="41">I’m The Real Slim Shady Tee - $41</option>
          <option data-img="My_Name_Is_Crop_-_Gina.webp" value="39">My Name Is Crop Tee - $39</option>
          <option data-img="Graphic_Lean_Tee_-_Clevin.webp" value="42">Graphic Lean Tee - $42</option>
          <option data-img="hat_01.webp" value="37">revoveryhat - $20</option>
          <option data-img="Name_Tag_Patch_Dad_Hat_Male_Model.webp" value="22">himynameisslimshadyhat - $22</option>
          <option data-img="Stan6061_3fb6b2a8-0762-413c-897f-8f62b8d67d2c (1).webp" value="25">stanhat - $25</option>
          <option data-img="EmENCORE0610P01.webp" value="30">moshhat - $30</option>
          <option data-img="TODSSHat_Detail.webp" value="28">the death of slim shady hat - $28</option>
        </select>
        <h1 id="product-name">Basic T-shirt</h1>
        <img id="product-img" src="Basic_E-shirt_Male_Model (1).webp" alt="Product">
        <h2 id="product-price">$40</h2>

        <div class="size-selector">
          <button>S</button>
          <button>M</button>
          <button>XL</button>
          <button>2XL</button>
        </div>

        <div class="quantity-selector" style="margin-top:10px;">
          <label for="quantity">Quantity:</label>
          <input type="number" id="quantity" value="1" min="1" style="width:60px; padding:5px; text-align:center;">
        </div>

        <div class="comic-brutal-button-container" style="margin-top:20px;">
          <button class="comic-brutal-button add-to-cart-btn">
            <div class="button-inner">
              <span class="button-text">ADD TO CART</span>
              <div class="halftone-overlay"></div>
              <div class="ink-splatter"></div>
            </div>
            <div class="button-shadow"></div>
            <div class="button-frame"></div>
          </button>
        </div>
      </div>
    </div>
  </main>

  <div class="modal-overlay" id="signup-modal">
    <div class="modal">
      <span class="close-modal" data-close="signup-modal">&times;</span>
      <h2 class="signup-title">Sign Up</h2>
      <input type="text" placeholder="Username">
      <input type="email" placeholder="Email">
      <input type="password" placeholder="Password">
      <button class="signup-btn">Register</button>
    </div>
  </div>

  <div class="modal-overlay" id="login-modal">
    <div class="modal">
      <span class="close-modal" data-close="login-modal">&times;</span>
      <h2 class="login-title">Login</h2>
      <input type="email" placeholder="Email">
      <input type="password" placeholder="Password">
      <button class="login-btn">Login</button>
    </div>
  </div>
  <footer class="">
    <div class="cart-info">
      <span class="cart-items">Items in Cart: 0</span>
    </div>
  </footer>
<footer class="site-footer">
    <div class="footer-container">
      <p class="copyright-text">&copy; 2025 EMINEM SHOP. All Rights Reserved. by VladB</p>
      <div class="social-icons">
        <a href="#" target="_blank" title="Telegram">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/82/Telegram_logo.svg/800px-Telegram_logo.svg.png" alt="Telegram">
        </a>
        <a href="#" target="_blank" title="Instagram">
          <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram">
        </a>
      </div>
    </div>
  </footer>
  <script>
    let selectedSize = null;
    let basePrice = 40;

    function getSizeExtra(size) {
      switch (size) {
        case "M": return 5;
        case "XL": return 10;
        case "2XL": return 15;
        default: return 0;
      }
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      const cartItemsSpan = document.querySelector('.cart-items');
      const lang = localStorage.getItem('selectedLang') || 'en';
      const totalItems = cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
      if (cartItemsSpan) {
        cartItemsSpan.textContent = `${translations[lang].itemsInCart}${totalItems}`;
      }
    }

    document.querySelectorAll('.size-selector button').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.size-selector button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedSize = btn.textContent;

        const select = document.getElementById("product-select");
        basePrice = parseFloat(select.value);
        const newPrice = basePrice + getSizeExtra(selectedSize);
        document.getElementById("product-price").textContent = `$${newPrice}`;
      });
    });


    document.getElementById("product-select").addEventListener("change", (e) => {
      const selectedOption = e.target.options[e.target.selectedIndex];
      document.getElementById("product-name").textContent = selectedOption.text.split(" - $")[0];
      document.getElementById("product-img").src = selectedOption.dataset.img;
      basePrice = parseFloat(selectedOption.value);

      const newPrice = basePrice + getSizeExtra(selectedSize);
      document.getElementById("product-price").textContent = `$${newPrice}`;
    });


    document.querySelector('.add-to-cart-btn').addEventListener('click', () => {
      if (!selectedSize) {
        alert('Please select a size before adding to cart!');
        return;
      }

      const finalPrice = basePrice + getSizeExtra(selectedSize);
      const quantity = parseInt(document.getElementById("quantity").value) || 1;

      const productToAdd = {
        name: document.getElementById("product-name").textContent,
        price: finalPrice,
        img: document.getElementById("product-img").src,
        size: selectedSize,
        quantity: quantity
      };

      const cart = JSON.parse(localStorage.getItem('cart')) || [];

      const existingProductIndex = cart.findIndex(item => item.name === productToAdd.name && item.size === productToAdd.size);

      if (existingProductIndex > -1) {
        cart[existingProductIndex].quantity += quantity;
      } else {
        cart.push(productToAdd);
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
    });

    
    function openModal(id) { document.getElementById(id).style.display = "flex"; }
    function closeModal(id) { document.getElementById(id).style.display = "none"; }

    document.getElementById("open-signup").addEventListener("click", e => { e.preventDefault(); openModal("signup-modal"); });
    document.getElementById("open-login").addEventListener("click", e => { e.preventDefault(); openModal("login-modal"); });
    document.querySelectorAll(".close-modal").forEach(btn => btn.addEventListener("click", () => closeModal(btn.dataset.close)));
    document.querySelectorAll(".modal-overlay").forEach(overlay => overlay.addEventListener("click", e => { if (e.target === overlay) closeModal(overlay.id); }));

    
    document.addEventListener('DOMContentLoaded', () => {
        const dropdowns = document.querySelectorAll('.dropdown');
        dropdowns.forEach(dropdown => {
            const link = dropdown.querySelector('.nav-link');
            link.addEventListener('click', e => {
                e.preventDefault();
                dropdowns.forEach(other => {
                    if (other !== dropdown) other.classList.remove('show');
                });
                dropdown.classList.toggle('show');
            });
        });
        window.addEventListener('click', e => {
            dropdowns.forEach(dropdown => {
                if (!dropdown.contains(e.target)) dropdown.classList.remove('show');
            });
        });
    });

    
    const translations = {
        en: { catalogue:'CATALOGUE', tshirts:'T-shirts', hoodies:'Hoodies', hats:'Hats', jackets:'Jackets', about:'ABOUT US', signup:'SIGN UP', login:'LOGIN', buy:'BUY', loadmore:'LOAD MORE', registerbtn:'Register', loginbtn:'Login', cart:'CART', addToCart: 'ADD TO CART',quantity: "Quantity", itemsInCart: "Items in Cart: "},
        ua: { catalogue:'КАТАЛОГ', tshirts:'Футболки', hoodies:'Худі', hats:'Кепки', jackets:'Куртки', about:'ПРО НАС', signup:'РЕЄСТРАЦІЯ', login:'ВХІД', buy:'КУПИТИ', loadmore:'ПОКАЗАТИ БІЛЬШЕ', registerbtn:'Зареєструватися', loginbtn:'Увійти', cart:'КОШИК', addToCart: 'ДОДАТИ В КОШИК', quantity: "Кількість", itemsInCart: "Товари в кошику: "},
        ru: { catalogue:'КАТАЛОГ', tshirts:'Футболки', hoodies:'Худи', hats:'Кепки', jackets:'Куртки', about:'О НАС', signup:'РЕГИСТРАЦИЯ', login:'ВОЙТИ', buy:'КУПИТЬ', loadmore:'ПОКАЗАТЬ ЕЩЁ', registerbtn:'Зарегистрироваться', loginbtn:'Войти', cart:'КОРЗИНА', addToCart: 'ДОБАВИТЬ В КОРЗИНУ', quantity: "Количество", itemsInCart: "Товары в корзине: "},
        pl: {catalogue:'KATALOG', tshirts:'Koszulki', hoodies:'Bluzy z kapturem', hats:'Czapki', jackets:'Kurtki', about:'O NAS', signup:'ZAREJESTRUJ SIĘ', login:'ZALOGUJ SIĘ', buy:'KUP', loadmore:'POKAŻ WIĘCEJ', registerbtn:'Zarejestruj się', loginbtn:'Zaloguj się', cart:'KOSZYK', addToCart: 'DODAJ DO KOSZYKA', quantity: "Ilość", itemsInCart: "Przedmioty w koszyku: "},
        de: { catalogue:'KATALOG', tshirts:'T-Shirts', hoodies:'Kapuzenpullover', hats:'Mützen', jackets:'Jacken', about:'ÜBER UNS', signup:'REGISTRIEREN', login:'ANMELDEN', buy:'KAUFEN', loadmore:'MEHR ANZEIGEN', registerbtn:'Registrieren', loginbtn:'Einloggen', cart:'WAGEN', addToCart: 'IN DEN WAGEN LEGEN', quantity: "Menge", itemsInCart: "Artikel im Warenkorb: "},
        fr: { catalogue:'CATALOGUE', tshirts:'T-shirts', hoodies:'Sweats à capuche', hats:'Casquettes', jackets:'Vestes', about:'À PROPOS', signup:'INSCRIPTION', login:'CONNEXION', buy:'ACHETER', loadmore:'AFFICHER PLUS', registerbtn:'S’inscrire', loginbtn:'Se connecter', cart:'PANIER', addToCart: 'AJOUTER AU PANIER', quantity: "Quantité", itemsInCart: "Articles dans le panier: "},
        es: { catalogue:'CATÁLOGO', tshirts:'Camisetas', hoodies:'Sudaderas', hats:'Gorras', jackets:'Chaquetas', about:'SOBRE NOSOTROS', signup:'REGISTRARSE', login:'INICIAR SESIÓN', buy:'COMPRAR', loadmore:'MOSTRAR MÁS', registerbtn:'Registrarse', loginbtn:'Entrar', cart:'CARRITO', addToCart: 'AÑADIR AL CARRITO', quantity: "Cantidad", itemsInCart: "Artículos en el carrito: "},
        it: { catalogue:'CATALOGO', tshirts:'Magliette', hoodies:'Felpe', hats:'Cappelli', jackets:'Giacche', about:'CHI SIAMO', signup:'REGISTRATI', login:'ACCEDI', buy:'ACQUISTA', loadmore:'MOSTRA ALTRO', registerbtn:'Registrati', loginbtn:'Accedi', cart:'CARRELLO', addToCart: 'AGGIUNGI AL CARRELLO', quantity: "Quantità", itemsInCart: "Articoli nel carrello: "}
    };
    const languageSwitcher = document.querySelector('.language-switcher');
    const currentLangLink = languageSwitcher.querySelector('.nav-link');
    const langMenu = languageSwitcher.querySelector('.dropdown-menu');

    const availableLangs = [
        { code: 'en', label: 'EN' },
        { code: 'ua', label: 'UA' },
        { code: 'ru', label: 'RU' },
        { code: 'pl', label: 'PL' },
        { code: 'de', label: 'DE' },
        { code: 'fr', label: 'FR' },
        { code: 'es', label: 'ES' },
        { code: 'it', label: 'IT' }
    ];

    langMenu.innerHTML = '';
    availableLangs.forEach(lang => {
        const li = document.createElement('li');
        const a = document.createElement('a');
        a.href = '#';
        a.textContent = lang.label;
        a.setAttribute('data-lang', lang.code);
        li.appendChild(a);
        langMenu.appendChild(li);
    });

    function switchLanguage(lang) {
        document.querySelector('.catalogue-link').textContent = translations[lang].catalogue;
        const catalogueMenu = document.querySelector('.catalogue-link').parentElement.querySelector('.dropdown-menu');
        catalogueMenu.children[0].querySelector('a').textContent = translations[lang].tshirts;
        catalogueMenu.children[1].querySelector('a').textContent = translations[lang].hoodies;
        catalogueMenu.children[2].querySelector('a').textContent = translations[lang].hats;
        catalogueMenu.children[3].querySelector('a').textContent = translations[lang].jackets;
        const addToCartBtnText = document.querySelector('.add-to-cart-btn .button-text');
        if (addToCartBtnText) addToCartBtnText.textContent = translations[lang].addToCart;
        const quantityLabel = document.querySelector('.quantity-selector label');
        if (quantityLabel) quantityLabel.textContent = translations[lang].quantity;
        const cartItemsSpan = document.querySelector('.cart-items');
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        if (cartItemsSpan) cartItemsSpan.textContent = `${translations[lang].itemsInCart}${cart.reduce((sum, item) => sum + (item.quantity || 1), 0)}`;
        

        document.getElementById('open-signup').textContent = translations[lang].signup;
        document.getElementById('open-login').textContent = translations[lang].login;
        document.querySelector('.cart-link').textContent = translations[lang].cart;
        
        const signupTitle = document.querySelector('.signup-title');
        const loginTitle = document.querySelector('.login-title');
        const signupBtn = document.querySelector('.signup-btn');
        const loginBtn = document.querySelector('.login-btn');
        if (signupTitle) signupTitle.textContent = translations[lang].signup;
        if (loginTitle) loginTitle.textContent = translations[lang].login;
        if (signupBtn) signupBtn.textContent = translations[lang].registerbtn;
        if (loginBtn) loginBtn.textContent = translations[lang].loginbtn;
    }

    langMenu.querySelectorAll('[data-lang]').forEach(link => {
        link.addEventListener('click', e => {
            e.preventDefault();
            const lang = e.target.dataset.lang;
            localStorage.setItem('selectedLang', lang);
            currentLangLink.textContent = lang.toUpperCase();
            switchLanguage(lang);
            languageSwitcher.classList.remove('show');
        });
    });

    const savedLang = localStorage.getItem('selectedLang');
    if (savedLang && translations[savedLang]) {
        currentLangLink.textContent = savedLang.toUpperCase();
        switchLanguage(savedLang);
    }
  </script>
</body>
</html>