<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buy Product</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap" rel="stylesheet">
  <script src="scriptt.js"></script>

  <style>
    body {
      font-family: 'Fira Code', monospace;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    main {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .product-container {
      text-align: center;
    }
    .product-details {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }
    .product-details img {
      max-width: 350px;
      border-radius: 10px;
      margin-top: 10px;
    }
    footer {
      margin: 20px 0;
      text-align: center;
    }
    select {
      padding: 8px;
      font-size: 16px;
    }
  </style>
</head>
<body>
  <header class="header">
    <a href="index.html">
    <div class="logo">CLOTHES SHOP</div>
    </a>
    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><a href="index.html" class="nav-link">HOME</a></li>
        <li class="nav-item"><a href="cart.html" class="nav-link">CART</a></li>
        <li class="nav-item dropdown language-switcher">
          <a href="#" class="nav-link">EN</a>
          <ul class="dropdown-menu">
            <li><a href="#" data-lang="en">EN</a></li>
            <li><a href="#" data-lang="ua">UA</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <div class="product-container">
      <div class="product-details">

        <label for="product-select">Choose a product:</label>
        <select id="product-select">
          <option data-img="Basic_E-shirt_Male_Model (1).webp" value="40">Basic T-shirt - $40</option>
          <option data-img="Casket_Front.webp" value="35">Casket T-shirt - $35</option>
          <option data-img="EmENCORE0443P01.webp" value="38">Encore Shirt 1 - $38</option>
          <option data-img="EmENCORE0587P01.webp" value="42">Encore Shirt 2 - $42</option>
          <option data-img="Shady-25_033.webp" value="40">Shady 25 T-shirt - $40</option>
          <option data-img="Shady2.webp" value="39">Shady T-shirt - $39</option>
          <option data-img="Kamikaze_Green_Hoodie_Male_Model_Front_1024x1024_f9d40831-2f58-4a08-a853-eb1f057ea1b8.webp" value="55">Kamikaze Hoodie - $55</option>
          <option data-img="The_Way_I_Am_Hoodie_Maroon_Male_Model.webp" value="50">The Way I Am Hoodie 1 - $50</option>
          <option data-img="The_Way_I_Am_Hoodie_Navy_Male_Model.webp" value="38">The Way I Am Hoodie 2 - $38</option>
          <option data-img="Lyric_Hoode_-_Front_-_Back.webp" value="70">Lyric Hoodie - $70</option>
          <option data-img="PhotoHoodie_-_Front_-_Back.webp" value="60">Photo Hoodie - $60</option>
          <option data-img="LARGE-EM_0013_NW-LOGO--copy-10.webp" value="65">Large Hoodie - $65</option>
          <option data-img="Angermangement-Tee_mock.webp" value="45">Anger Management Tee - $45</option>
          <option data-img="Bloody_Chainsaw_Tee_White_-_Justin.webp" value="48">Bloody Chainsaw Tee White - $48</option>
          <option data-img="Bloody_Chainsaw_Tee_-_Justin.webp" value="47">Bloody Chainsaw Tee - $47</option>
          <option data-img="E-Kneel-Tee_mock.webp" value="44">E-Kneel Tee - $44</option>
          <option data-img="Eminem-Graphic-mock.webp" value="52">Eminem Graphic Tee - $52</option>
          <option data-img="EMTV-Design_mock.webp" value="43">EMTV Design Tee - $43</option>
          <option data-img="E-Spotlight_mock.webp" value="46">E-Spotlight Tee - $46</option>
          <option data-img="Photo_T-Shirt_-_Justin.webp" value="49">Photo T-shirt - $49</option>
          <option data-img="I_m_The_Real_Slim_Shady_T-shirt_Female_Model.webp" value="41">Iâ€™m The Real Slim Shady Tee - $41</option>
          <option data-img="My_Name_Is_Crop_-_Gina.webp" value="39">My Name Is Crop Tee - $39</option>
          <option data-img="Graphic_Lean_Tee_-_Clevin.webp" value="42">Graphic Lean Tee - $42</option>
        </select>

        <h1 id="product-name">Basic T-shirt</h1>
        <img id="product-img" src="Basic_E-shirt_Male_Model (1).webp" alt="Product">
        <h2 id="product-price">$40</h2>

        <div class="size-selector">
          <button>S</button>
          <button>M</button>
          <button>XL</button>
          <button>2XL</button>
        </div>

        <div class="quantity-selector" style="margin-top:10px;">
          <label for="quantity">Quantity:</label>
          <input type="number" id="quantity" value="1" min="1" style="width:60px; padding:5px; text-align:center;">
        </div>

        <div class="comic-brutal-button-container" style="margin-top:20px;">
          <button class="comic-brutal-button add-to-cart-btn">
            <div class="button-inner">
              <span class="button-text">ADD TO CART</span>
              <div class="halftone-overlay"></div>
              <div class="ink-splatter"></div>
            </div>
            <div class="button-shadow"></div>
            <div class="button-frame"></div>
          </button>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="cart-info">
      <span class="cart-items">Items in Cart: 0</span>
    </div>
  </footer>

  <script>
    let selectedSize = null;
    let basePrice = 40;

    function getSizeExtra(size) {
      switch (size) {
        case "M": return 5;
        case "XL": return 10;
        case "2XL": return 15;
        default: return 0; 
      }
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      document.querySelector('.cart-items').textContent = `Items in Cart: ${cart.length}`;
    }
    updateCartCount();

    
    document.querySelectorAll('.size-selector button').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.size-selector button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedSize = btn.textContent;

        const select = document.getElementById("product-select");
        basePrice = parseFloat(select.value);
        const newPrice = basePrice + getSizeExtra(selectedSize);
        document.getElementById("product-price").textContent = `$${newPrice}`;
      });
    });

    
    document.getElementById("product-select").addEventListener("change", (e) => {
      const selectedOption = e.target.options[e.target.selectedIndex];
      document.getElementById("product-name").textContent = selectedOption.text.split(" - $")[0];
      document.getElementById("product-img").src = selectedOption.dataset.img;
      basePrice = parseFloat(selectedOption.value);

      const newPrice = basePrice + getSizeExtra(selectedSize);
      document.getElementById("product-price").textContent = `$${newPrice}`;
    });

    
    document.querySelector('.add-to-cart-btn').addEventListener('click', () => {
      if (!selectedSize) {
        alert('Please select a size before adding to cart!');
        return;
      }

      const finalPrice = basePrice + getSizeExtra(selectedSize);
      const quantity = parseInt(document.getElementById("quantity").value) || 1;

      const product = {
        name: document.getElementById("product-name").textContent,
        price: finalPrice,
        img: document.getElementById("product-img").src,
        size: selectedSize,
        quantity: quantity
      };

      const cart = JSON.parse(localStorage.getItem('cart')) || [];
      cart.push(product);
      localStorage.setItem('cart', JSON.stringify(cart));

      updateCartCount();
    });
  </script>
</body>
</html>
